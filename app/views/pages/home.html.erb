<div class="wrapper">
  <div class="header-container">
    <div class="video">

    <div id="player"></div>
<!--       <iframe width="100%" height="100%" src="https://www.youtube.com/embed/PY4ExLQyF4w?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1&amp;start=20&amp;disablekb=1&amp;enablejsapi=1&amp;loop=1&amp;playlist=VIDEO_ID" frameborder="0" allowfullscreen></iframe> -->

      <div class="overlay">

      </div>
      <div class="div-cache-btn">

      </div>
    </div>
  </div>

  <div class="search-form">
    <%= form_tag entries_path, id: "search-bike-form", autocomplete: "off",method: :get do %>
      <%= text_field_tag :size,
        params[:size],
        class: "form-control",
        placeholder: "Rentrez ici la taille du vÃ©lo"
        %>
      <%= button_tag(type: "submit", class: "submit-btn", id: "submit") do %>
        <i class="fa fa-search" aria-hidden="true"></i>
      <% end %>
    <% end %>
  </div>

  <div id="result"></div>

</div>



<script>
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '100%',
      width: '100%',
      videoId: 'PY4ExLQyF4w',
      playerVars: {
        controls: 0,
        autoplay: 1,
        disablekb: 1,
        enablejsapi: 1,
        mute: 1,
        start: 70,
        end: 120,
        vq: 'hd720',
        // playlist: 'PY4ExLQyF4w',
      },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  function onPlayerReady(event) {
    event.target.playVideo();
  }

  function loopStart() {
    player.seekTo(70);   // Start at 70 seconds
  }
  function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.PLAYING) {
          setTimeout(loopStart, 50000); // After 5 seconds, restart the loop
      }
  }

  //    The function indicates that when playing a video (state=1),
  //    the player should play for six seconds and then stop.
  // var done = false;
  // function onPlayerStateChange(event) {
  //   if (event.data == done) {
      // event.target.playVideo();
      // setTimeout(stopVideo, 2000);
      // done = true;
  //   }
  // }
  // function stopVideo() {
  //   player.stopVideo();
  // }
</script>




